# 자동 포스팅 기능 가이드

## 개요

JaBlog의 자동 포스팅 기능은 WordPress와 Tistory에 콘텐츠를 자동으로 발행합니다. 예약 발행, 다중 플랫폼 동시 발행, 발행 이력 확인이 가능합니다.

---

## 지원 플랫폼

| 플랫폼    | 인증 방식               | 필요 정보                         | API                |
| --------- | ----------------------- | --------------------------------- | ------------------ |
| WordPress | REST API + App Password | 사이트 URL, 사용자명, 앱 비밀번호 | WordPress REST API |
| Tistory   | OAuth 2.0               | 블로그명, Access Token            | Tistory Open API   |

---

## 단계별 사용 방법

### 1단계: 플랫폼 연동 설정

1. 사이드바에서 **설정** 메뉴를 클릭합니다.
2. **플랫폼 연동** 탭을 선택합니다.
3. **새 플랫폼 연동 추가** 버튼을 클릭합니다.
4. 플랫폼을 선택합니다 (WordPress 또는 Tistory).
5. 필수 정보를 입력합니다.

**WordPress 설정:**

| 필드        | 설명                  | 예시                 |
| ----------- | --------------------- | -------------------- |
| 이름        | 구분용 표시명         | 내 워드프레스 블로그 |
| 사이트 URL  | WordPress 사이트 주소 | https://myblog.com   |
| 사용자명    | WordPress 로그인 ID   | admin                |
| 앱 비밀번호 | WordPress 앱 비밀번호 | xxxx xxxx xxxx xxxx  |

**Tistory 설정:**

| 필드         | 설명                  | 예시               |
| ------------ | --------------------- | ------------------ |
| 이름         | 구분용 표시명         | 내 티스토리 블로그 |
| 블로그명     | Tistory 블로그 식별자 | myblog             |
| Access Token | OAuth 인증 토큰       | xxxxxxxxxxxxxxxx   |

6. **추가** 버튼을 클릭합니다.
7. **테스트** 버튼을 클릭하여 연결을 확인합니다.

---

### 2단계: 콘텐츠 작성

1. **콘텐츠** 메뉴로 이동합니다.
2. **새 콘텐츠 작성** 버튼을 클릭합니다.
3. 제목과 본문을 입력합니다.
4. 태그와 카테고리를 설정합니다.
5. **저장** 버튼을 클릭합니다.

| 필드     | 필수 | 설명                    |
| -------- | ---- | ----------------------- |
| 제목     | ✅   | 블로그 포스트 제목      |
| 본문     | ✅   | 마크다운 또는 HTML 형식 |
| 태그     | ❌   | 쉼표로 구분된 태그      |
| 카테고리 | ❌   | 블로그 카테고리         |
| 플랫폼   | ✅   | 발행할 플랫폼 선택      |

---

### 3단계: 예약 발행 설정

1. **예약 캘린더** 메뉴로 이동합니다.
2. 캘린더에서 원하는 날짜를 클릭합니다.
3. 발행할 콘텐츠를 선택합니다.
4. 발행 **시간**을 설정합니다.
5. **플랫폼**을 선택합니다 (WordPress, Tistory 또는 모두).
6. **예약 등록** 버튼을 클릭합니다.

**예약 설정 옵션:**

| 옵션   | 설명             | 기본값      |
| ------ | ---------------- | ----------- |
| 날짜   | 발행 예정 일자   | 선택한 날짜 |
| 시간   | 발행 예정 시각   | 09:00       |
| 플랫폼 | 발행 대상 플랫폼 | 전체        |
| 상태   | 예약 상태        | PENDING     |

---

### 4단계: 발행 이력 확인

1. **콘텐츠** 메뉴에서 발행된 콘텐츠를 확인합니다.
2. 상태 필터에서 **PUBLISHED**를 선택합니다.
3. 각 콘텐츠 카드에서 발행 정보를 확인합니다.
4. **API 모니터링** 메뉴에서 상세 발행 로그를 확인합니다.

**발행 상태:**

| 상태       | 설명         | 아이콘 |
| ---------- | ------------ | ------ |
| PENDING    | 발행 대기 중 | ⏳     |
| PROCESSING | 발행 진행 중 | 🔄     |
| SUCCESS    | 발행 성공    | ✅     |
| FAILED     | 발행 실패    | ❌     |

---

## 자주 발생하는 이슈

### 이슈 1: WordPress 연결 실패

| 원인              | 해결 방법                                                  |
| ----------------- | ---------------------------------------------------------- |
| 앱 비밀번호 오류  | WordPress 관리자 → 사용자 → 프로필에서 새 앱 비밀번호 생성 |
| REST API 비활성화 | WordPress 플러그인이 REST API를 차단하는지 확인            |
| URL 오류          | https:// 포함한 정확한 사이트 URL 입력                     |
| 권한 부족         | 관리자 또는 편집자 권한 필요                               |

### 이슈 2: Tistory 연결 실패

| 원인              | 해결 방법                                                           |
| ----------------- | ------------------------------------------------------------------- |
| Access Token 만료 | Tistory 개발자 페이지에서 새 토큰 발급                              |
| 블로그명 오류     | URL에서 블로그 식별자 정확히 확인 (예: myblog.tistory.com → myblog) |
| API 호출 한도     | 일일 API 호출 한도 초과 시 다음 날 재시도                           |

### 이슈 3: 예약 발행 미실행

| 원인          | 해결 방법                           |
| ------------- | ----------------------------------- |
| 서버 중지     | 백엔드 서버가 계속 실행 중인지 확인 |
| 시간대 불일치 | 서버 시간대와 예약 시간대 일치 확인 |
| 콘텐츠 상태   | 콘텐츠가 APPROVED 상태인지 확인     |

### 이슈 4: 발행 내용 깨짐

| 원인             | 해결 방법                                |
| ---------------- | ---------------------------------------- |
| HTML 태그 오류   | 본문의 HTML 태그 닫기 확인               |
| 특수문자 이슈    | 특수문자 HTML 엔티티로 변환              |
| 이미지 링크 오류 | 이미지 URL이 외부에서 접근 가능한지 확인 |

---

## 발행 워크플로우

```
[DRAFT] → [REVIEW] → [APPROVED] → [SCHEDULED] → [PUBLISHED]
    ↓         ↓           ↓            ↓
  초안      검토      승인완료      예약등록      발행완료
```

**상태 전환:**

| 현재 상태 | 가능한 다음 상태    | 트리거              |
| --------- | ------------------- | ------------------- |
| DRAFT     | REVIEW              | 검토 요청           |
| REVIEW    | APPROVED, DRAFT     | 승인 또는 반려      |
| APPROVED  | SCHEDULED, DRAFT    | 예약 등록 또는 취소 |
| SCHEDULED | PUBLISHED, APPROVED | 자동 발행 또는 취소 |
| PUBLISHED | -                   | 최종 상태           |

---

## 팁 & 권장사항

1. **테스트 후 발행**: 플랫폼 연동 후 반드시 테스트 버튼으로 연결을 확인하세요.
2. **예약 시간 여유**: 예약 시간은 현재 시간보다 최소 5분 이후로 설정하세요.
3. **다중 플랫폼**: 같은 콘텐츠를 여러 플랫폼에 발행할 경우 개별 예약을 등록하세요.
4. **오류 모니터링**: 발행 후 API 모니터링에서 결과를 확인하세요.
5. **백업**: 중요한 콘텐츠는 로컬에 백업해두세요.

---

_이 가이드는 자동 발행 기능의 효율적 사용을 위해 작성되었습니다._
